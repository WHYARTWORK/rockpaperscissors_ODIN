<!DOCTYPE html>
<html>
    <head>
        <style type = "text/css">
           .highlight {
               border: 15px aquamarine;
               border-radius: 5px;

           }
        </style>
    </head>
    <body>
        <h1>
            WELCOME TO ROCK, PAPER, SCISSORS!
        </h1>
        <button onclick="reset()">RESET</button>
        <div>
            <p class='hidden'>(Press "R","P", or "S")</p>
        </div>
        <div id='playersChoice'>
            <h3>
                Player Choice
            </h3>
            <div id='images'>
                <img data-key="82" id='select' class='highlight' src='https://images.vexels.com/media/users/3/145830/isolated/preview/e529a985fbd2671b43973dc509d21c93-rubble-rock-by-vexels.png'
                width = '60px' height = '60px'>
                <img data-key="80" id='select' class='nadda' src='https://i.pinimg.com/originals/9d/b7/3c/9db73c40264829a24b4866e4e663cbf6.jpg'
                width = '60px' height = '60px'>
                <img data-key="83" id='select' class='nada' src='https://www.netclipart.com/pp/m/43-433760_scissors-vector-free-download-scissor-in-icon.png'
                width='60px' height='60px'>
            </div>
        </div>
        <div>
            VS
        </div>
        <div id='computerChoice'>
            <h3>
                Computer Choice
            </h3>
            <div id='images'>
                <img id='rock' src='https://images.vexels.com/media/users/3/145830/isolated/preview/e529a985fbd2671b43973dc509d21c93-rubble-rock-by-vexels.png'
                width = '60px' height = '60px'>
                <img id='paper' src='https://i.pinimg.com/originals/9d/b7/3c/9db73c40264829a24b4866e4e663cbf6.jpg'
                width = '60px' height = '60px'>
                <img id='scissors' src='https://www.netclipart.com/pp/m/43-433760_scissors-vector-free-download-scissor-in-icon.png'
                width='60px' height='60px'>
            </div>
        </div>
        <div id='scoreCard'>
            <h2 id='scoreCard'>
            </h2>
            <p id='playerScore'>
            </p>
            <p id='computerScore'>
            </p>
        </div>
        <script>

            const computerPlay = function () {
                let randomNum = Math.random() * (4) + 1;
                randomNum = Math.round(randomNum)
                if (randomNum === 1) {
                    return 'rock';
                } else if ( randomNum === 2) {
                    return 'scissors';
                } else {
                    return 'paper';
                }
            }
            const playRound = function (playerSelection, computerSelection) {
                const combo = playerSelection + computerSelection;

                switch (true) {
                    case (combo === 'rockpaper'):
                        return 'You Lose! Paper beats Rock'
                        break;
                    case (combo === 'rockrock'): 
                        return 'Tie!'
                        break;
                    case (combo === 'rockscissors'): 
                        return 'You Win! Rock beats Scissors.'
                        break;
                    case (combo === 'paperscissors'):
                        return 'You Lose! Scissors beat Paper.'
                        break;
                    case (combo === 'paperpaper'):
                        return 'Tie!'
                        break;
                    case (combo === 'paperrock'): 
                        return 'You Win! Paper beats rock'
                        break;
                    case (combo === 'scissorsscissors'):
                        return 'Tie'
                        break;
                    case (combo === 'scissorspaper'):
                        return 'You Win! Scissors beats paper.'
                        break;
                    case (combo === 'scissorsrock'):
                        return 'You Lose! Rock beats Scissors'
                        break;
                    default:
                        return 'Wrong input.'
                        break;
                    }
            }

            const playerSelect = function(e) {
                round +=1
                const pick = document.querySelector(`img[data-key="${e.keyCode}"]`)
                if (!pick) return;
                pick.classList.toggle('highlight')
                switch (true) {
                    case e.keyCode == 82:
                        return "rock";
                        break;
                    case e.keyCode == 83:
                        return "scissors";
                        break;
                    case e.keyCode == 80:
                        return "paper";
                        break;
                    }}

            const reset = function() {
                round = 0;
                playerScore = 0;
                computerScore = 0;
                match.textContent = 'Thanks for playing.';
                scoreCard.appendChild(match);
            }


            let round = 1;
            let playerScore = 0;
            let computerScore = 0;
            let result = '';
            let player;
            const scoreCard = document.querySelector('#scoreCard');
            const match = document.createElement('div');
            window.addEventListener("keydown", function(e) {
                player = playerSelect(e);
                computerSelection = computerPlay();
                result = playRound(player, computerSelection);
                if (result.includes('Win')){
                    playerScore += 1;
                } else if (result.includes('Lose')){
                    computerScore += 1;
                }
                match.textContent = result + "You've won " + playerScore + " rounds and lost " + computerScore;
                scoreCard.appendChild(match);
            });
            

        </script>
    </body>
</html>