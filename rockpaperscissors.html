<!DOCTYPE html>
<html>
    <body>
        <script>

            let cleanup = function (selection) {
                let clean = selection.trim();
                return clean.toLowerCase();
            }

            const computerPlay = function () {
                let randomNum = Math.random() * (4) + 1;
                randomNum = Math.round(randomNum)
                if (randomNum === 1) {
                    return 'Rock';
                } else if ( randomNum === 2) {
                    return 'Scissors';
                } else {
                    return 'Paper';
                }
            }
            const playRound = function (playerSelection, computerSelection, cleanup) {
                let combo = cleanup(playerSelection) + cleanup(computerSelection);

                switch (true) {
                case (combo === 'rockpaper'):
                    return 'You Lose! Paper beats Rock'
                    break;
                case (combo === 'rockrock'): 
                    return 'Tie!'
                    break;
                case (combo === 'rockscissors'): 
                    return 'You Win! Rock beats Scissors.'
                    break;
                case (combo === 'paperscissors'):
                    return 'You Lose! Scissors beat Paper.'
                    break;
                case (combo === 'paperpaper'):
                    return 'Tie!'
                    break;
                case (combo === 'paperrock'): 
                    return 'You Win! Paper beats rock'
                    break;
                case (combo === 'scissorsscissors'):
                    return 'Tie'
                    break;
                case (combo === 'scissorspaper'):
                    return 'You Win! Scissors beats paper.'
                    break;
                case (combo === 'scissorsrock'):
                    return 'You Lose! Rock beats Scissors'
                    break;
                }
            }

            const game = function (computerplay, playRound) {
                let round = 1;
                let score = 0;
                let result;
                while (round < 6) {
                    round += 1;
                    playerSelection = prompt('Choose your weapon. Rock, Paper, or Scissors')
                    computerSelection = computerPlay()
                    result = playRound(playerSelection, computerSelection)
                    if (result.includes('Win')) {
                        score += 1;
                    }
                    console.log(result)
                    console.log("You've won " + num.toString(score) + " rounds")
                }
                console.log("You won " + num.toString(score) + " out of 5 rounds.")
            }

            console.log("Welcome, Let's play some Rock, Paper, Scissors")
            game(computerPlay, playRound)
            console.log("Thank's for playing")

        </script>
    </body>
</html>