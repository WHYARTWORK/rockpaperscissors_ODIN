<!DOCTYPE html>
<html>
    <body>
        <script>

            const clean = function(selection) {
                let clean = selection.trim()
                return clean.toLowerCase()
            }

            const computerPlay = function () {
                let randomNum = Math.random() * (4) + 1;
                randomNum = Math.round(randomNum)
                if (randomNum === 1) {
                    return 'rock';
                } else if ( randomNum === 2) {
                    return 'scissors';
                } else {
                    return 'paper';
                }
            }
            const playRound = function (playerSelection, computerSelection, clean) {
                const combo = clean(playerSelection) + computerSelection;

                switch (true) {
                    case (combo === 'rockpaper'):
                        return 'You Lose! Paper beats Rock'
                        break;
                    case (combo === 'rockrock'): 
                        return 'Tie!'
                        break;
                    case (combo === 'rockscissors'): 
                        return 'You Win! Rock beats Scissors.'
                        break;
                    case (combo === 'paperscissors'):
                        return 'You Lose! Scissors beat Paper.'
                        break;
                    case (combo === 'paperpaper'):
                        return 'Tie!'
                        break;
                    case (combo === 'paperrock'): 
                        return 'You Win! Paper beats rock'
                        break;
                    case (combo === 'scissorsscissors'):
                        return 'Tie'
                        break;
                    case (combo === 'scissorspaper'):
                        return 'You Win! Scissors beats paper.'
                        break;
                    case (combo === 'scissorsrock'):
                        return 'You Lose! Rock beats Scissors'
                        break;
                    }
            }

            const game = function (computerplay, playRound, clean) {
                let round = 1;
                let score = 0;
                let result;
                while (round < 6) {
                    round += 1;
                    playerSelection = prompt('Choose your weapon. Rock, Paper, or Scissors')
                    computerSelection = computerPlay()
                    result = playRound(playerSelection, computerSelection, clean)
                    if (result.includes('Win')) {
                        score += 1;
                    }
                    console.log(result)
                    console.log("You've won " + score + " rounds")
                }
                console.log("You won " + score + " out of 5 rounds.")
            }

            console.log("Welcome, Let's play some Rock, Paper, Scissors")
            game(computerPlay, playRound, clean)
            console.log("Thank's for playing")

        </script>
    </body>
</html>